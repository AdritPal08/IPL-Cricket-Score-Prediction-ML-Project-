<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>IPL Score Predictor</title>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>

<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="shortcut icon" href="{{ url_for('static', filename='favicon.ico') }}" type="image/x-icon">
</head>
<body style = "background-image: url({{ url_for('static', filename='ipl.jpg') }});background-repeat: no-repeat;background-size: cover; background-position: center; height: 100%; width: 100%;">

<br><br><br>
<div class = "col-lg-3 col-md-12 col-sm-12 col-xs-12">
    <br><br><br><br><br><br><br>
    
    <div class="card" style="background-color:#e7e6e5" >
        <div class="card-header">
          <ul class="list-group">
        
              <div id="carouselExampleIndicators" class="carousel slide polaroid" data-ride="carousel">
                <div class="carousel-inner">
                  <div class="carousel-item active">
                    <img class="d-block w-100" src="{{ url_for('static', filename='slider/rcb.jpg') }}" alt="First slide" height="400px" width = 290px >
                  </div> 
                  <div class="carousel-item">
                    <img class="d-block w-100" src="{{ url_for('static', filename='slider/csk.jpg') }}" alt="second slide" height="400px" width = 290px >
                  </div> 
                  <div class="carousel-item ">
                    <img class="d-block w-100" src="{{ url_for('static', filename='slider/rr.jpg') }}" alt="third slide" height="400px" width = 290px>
                  </div> 
                  <div class="carousel-item ">
                    <img class="d-block w-100" src="{{ url_for('static', filename='slider/dc.jpg') }}" alt="Fourth slide" height="400px" width = 290px>
                  </div>
                  <div class="carousel-item">
                    <img class="d-block w-100" src="{{ url_for('static', filename='slider/punjab.jpg') }}" alt="five slide" height="400px" width = 290px>
                  </div>
                  <div class="carousel-item">
                    <img class="d-block w-100" src="{{ url_for('static', filename='slider/srh.jpg') }}" alt="six slide" height="400px" width = 290px>
                  </div>
                  <div class="carousel-item">
                    <img class="d-block w-100" src="{{ url_for('static', filename='slider/mi.jpg') }}" alt="seven slide" height="400px" width = 290px>
                  </div>
                  <div class="carousel-item">
                    <img class="d-block w-100" src="{{ url_for('static', filename='slider/kkr.jpg') }}" alt="eight slide" height="400px" width = 290px>
                  </div>
                </div>
            </div>


          </ul>
        </div>
    </div>
</div> 
<div class = "container-fuiled">

    <div class = "col-lg-6 col-sm-12 col-xs-12">

        <div class="card" style="background-color:#e7e6e5">
            <div class="card-header">
                <ul class="list-group">
                    <li class="list-group-item">
                      <h2 class="ml-5" style="color: blue"><b>IPL Score Predictor</b></h2>
                      <br>

                      <div class="row ml-2">
                        <div class="col-sm-3">
                            <label><b>Venue: </b></label>
                        </div>
                        <div class="col-sm-9">
                          <select id="venue"  name="venue" style="width:300px">
                            {% for v in venue %}
                              <option value="{{ v }}">{{ v.title() }}</option>
                            {% endfor %}
                              <option value="barabati stadium">Barabati Stadium</option>
                          </select>
                        </div>
                      </div>
                      <br>

                      <div class="row ml-2">
                          <div class="col-sm-3">
                              <label><b>Batting Team: </b></label>
                          </div>
                          <div class="col-sm-9">
                            <select id="bat_team"  name="bat_team" style="width:300px">
                                <option value="" disabled="" selected="">--Select--</option>
                              {% for t in team %}
                                <option value="{{ t }}">{{ t.title() }}</option>
                              {% endfor %}
                            </select>
                          </div>
                      </div>
                      <br>
                      <div class="row ml-2">
                          <div class="col-sm-3">
                              <label><b>Bowling Team: </b></label>
                          </div>

                          <div class="col-sm-9">
                            <select id="bowl_team"  name="bowl_team" style="width:300px">
                              <option value="" disabled="" selected="">--Select--</option>
                            {% for t in team %}
                              <option value="{{ t }}">{{ t.title() }}</option>
                            {% endfor %}
                          </select>

                          </div>
                          
                      </div>
                      <br>
                      <div class="row ml-2">
                        <div class="col-sm-3">
                            <label><b>Innings: </b></label>
                        </div>
                        <div class="col-sm-9">
                            <input onfocusout=imposeMinMax(this) id="innings" type="number" name="innings" placeholder="Enter inning" class="form-control" style="width:300px" min = "0">
                        </div>
                      </div>
                      <br>

                      <div class="row ml-2">
                          <div class="col-sm-3">
                              <label><b>Overs: </b></label>
                          </div>
                          <div class="col-sm-9">
                              <input onfocusout=imposeMinMax(this) type="number" id="overs" name="overs" placeholder="Enter Over " class="form-control" style="width:300px" min = "5.0" max = "20.0" step="0.01">
                          </div>
                      </div>
                      <br>

                      <div class="row ml-2">
                        <div class="col-sm-3">
                            <label><b>Runs: </b></label>
                        </div>
                        <div class="col-sm-9">
                            <input onfocusout=imposeMinMax(this) id="runs" type="number" name="runs" placeholder="Enter Runs" class="form-control" style="width:300px" min = "0">
                        </div>
                      </div>
                      <br>

                      <div class="row ml-2">
                        <div class="col-sm-3">
                            <label><b>Wickets: </b></label>
                        </div>
                        <div class="col-sm-9">
                            <input onfocusout=imposeMinMax(this) id="wickets" type="number" name="wickets" placeholder="Enter Wickets" class="form-control" style="width:300px" min = "0" max = "10">
                        </div>
                      </div>
                      <br>

                    
                      <div class="row ml-2">
                        <div class="col-sm-12">
                          <center> <button type="submit" onclick="onClicked()"  class = "btn btn-primary" id="btn" data-toggle="modal" data-target="#myModal">Estimate Score</button> </center>
                        </div>
                      </div>
                      <br>
                    
                    </li>
                </ul>
              <div>
                <center>
                <a href="https://github.com/AdritPal08" target="_blank"><i class="fa fa-github" style="font-size:24px"></i></a>&nbsp&nbsp&nbsp&nbsp
                <a href="https://www.linkedin.com/in/adritpal/" target="_blank"><i class="fa fa-linkedin-square" style="font-size:24px"></i></a>&nbsp&nbsp&nbsp&nbsp
                <a href="https://www.kaggle.com/adritpal08/" target="_blank"><i class="fa fa-link" style="font-size:24px" ></i></a>
                </center>
              </div>

              <label class = "float-right">Created by Adrit</label>

            </div> 
        </div> 
    </div>
    </div>


<div class = "col-lg-3 col-md-12 col-sm-12 col-xs-12">  <!-- admin menu sidebar start-->
    <br><br><br><br><br><br><br>
    <div class="card" style="background-color:#e7e6e5" >    <!-- category card -->
        <div class="card-header">   <!-- category card header in which all category apperar-->
          <ul class="list-group"> <!-- category ul-->
        

            <div id="carouselExampleIndicators" class="carousel slide polaroid" data-ride="carousel">
              <div class="carousel-inner">
                <div class="carousel-item active">
                  <img class="d-block w-100" src="{{ url_for('static', filename='slider/rr.jpg') }}" alt="First slide" height="400px" width = 290px>
                </div> 
                <div class="carousel-item">
                  <img class="d-block w-100" src="{{ url_for('static', filename='slider/srh.jpg') }}" alt="second slide" height="400px" width = 290px>
                </div> 
                <div class="carousel-item ">
                  <img class="d-block w-100" src="{{ url_for('static', filename='slider/rcb.jpg') }}" alt="third slide" height="400px" width = 290px>
                </div> 
                <div class="carousel-item ">
                  <img class="d-block w-100" src="{{ url_for('static', filename='slider/kkr.jpg') }}" alt="Fourth slide" height="400px" width = 290px>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="{{ url_for('static', filename='slider/mi.jpg') }}" alt="five slide" height="400px" width = 290px>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="{{ url_for('static', filename='slider/csk.jpg') }}" alt="six slide" height="400px" width = 290px>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="{{ url_for('static', filename='slider/punjab.jpg') }}" alt="seven slide" height="400px" width = 290px>
                </div>
                <div class="carousel-item">
                  <img class="d-block w-100" src="{{ url_for('static', filename='slider/dc.jpg') }}" alt="eight slide" height="400px" width = 290px>
                </div>
              </div>
              
            </div>

          </ul>
        </div>
    </div>
</div> 

<!-- popup result design code start -->
<div style="margin-top: 200px" class="modal fade" id="myModal">
  <div class="modal-dialog modal-md">
    <div class="modal-content">
  
      <div class="modal-header">
        <h4 class="modal-title">Predicted Score</h4>
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
  
      <div class="modal-body" id="result_data">
        Waiting for predicition..
      </div>

      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
        
      </div>
      


    </div>
  </div>
</div>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">

    function imposeMinMax(el){
      if(el.value != ""){
        if(parseInt(el.value) < parseInt(el.min)){
          el.value = el.min;
        }
        if(parseInt(el.value) > parseInt(el.max)){
          el.value = el.max;
        }
      }
    }

  $('#bat_team').change(function() {
    var value = $(this).val();
    
    $('#bowl_team').children('option').each(function() {
        if ( $(this).val() === value) {
            $(this).prop('disabled', true);
        }
        else{
      $(this).prop('disabled', false);
        }
    });
    
  });

  $('#bowl_team').change(function() {
    var value = $(this).val();
    
    $('#bat_team').children('option').each(function() {
        if ( $(this).val() === value) {
            console.log(true);
            $(this).prop('disabled', true);   
        }
      else{
      $(this).prop('disabled', false);
        }
    });
    
  });

  function onClicked(){
      var venueObj = document.getElementById("venue");
      var venue = venueObj.options[venueObj.selectedIndex].value;
      var bat_teamObj = document.getElementById("bat_team");
      var bat_team = bat_teamObj.options[bat_teamObj.selectedIndex].value;
      var bowl_teamObj = document.getElementById("bowl_team");
      var bowl_team = bowl_teamObj.options[bowl_teamObj.selectedIndex].value;

      var innings = document.getElementById("innings").value;
      var overs = document.getElementById("overs").value;
      var runs = document.getElementById("runs").value;
      var wickets = document.getElementById("wickets").value;
            

      $.post("predictedScore", {
          venue: venue,
          bat_team: bat_team,
          bowl_team: bowl_team,
          overs: overs,
          runs: runs,
          wickets: wickets,
          innings:innings
      }, function(data, status){
         document.getElementById("result_data").innerHTML = "<label>" + data + "</label>";

      })
  }
  </script>


  </body>
  </html>